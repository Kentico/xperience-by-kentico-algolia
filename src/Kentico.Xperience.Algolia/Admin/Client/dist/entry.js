System.register(["react","@kentico/xperience-admin-components","@kentico/xperience-admin-base"],(function(e,t){var a={},l={},n={};return{setters:[function(e){a.default=e.default,a.useEffect=e.useEffect,a.useState=e.useState},function(e){l.Box=e.Box,l.Button=e.Button,l.ButtonType=e.ButtonType,l.CellType=e.CellType,l.ColumnContentType=e.ColumnContentType,l.Headline=e.Headline,l.HeadlineSize=e.HeadlineSize,l.Input=e.Input,l.Pagination=e.Pagination,l.Spacing=e.Spacing,l.Stack=e.Stack,l.Table=e.Table,l.TextArea=e.TextArea},function(e){n.RoutingContentPlaceholder=e.RoutingContentPlaceholder,n.usePageCommand=e.usePageCommand}],execute:function(){e((()=>{var e={722:(e,t,a)=>{const l=a(905).R;t.s=function(e){if(e||(e=1),!a.y.meta||!a.y.meta.url)throw console.error("__system_context__",a.y),Error("systemjs-webpack-interop was provided an unknown SystemJS context. Expected context.meta.url, but none was provided");a.p=l(a.y.meta.url,e)}},905:(e,t,a)=>{t.R=function(e,t){var a=document.createElement("a");a.href=e;for(var l="/"===a.pathname[0]?a.pathname:"/"+a.pathname,n=0,r=l.length;n!==t&&r>=0;)"/"===l[--r]&&n++;if(n!==t)throw Error("systemjs-webpack-interop: rootDirectoryLevel ("+t+") is greater than the number of directories ("+n+") in the URL path "+e);var i=l.slice(0,r+1);return a.protocol+"//"+a.host+i};Number.isInteger},952:e=>{"use strict";e.exports=n},271:e=>{"use strict";e.exports=l},954:e=>{"use strict";e.exports=a}},r={};function i(t){var a=r[t];if(void 0!==a)return a.exports;var l=r[t]={exports:{}};return e[t](l,l.exports,i),l.exports}i.y=t,i.d=(e,t)=>{for(var a in t)i.o(t,a)&&!i.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="";var o={};return(0,i(722).s)(1),(()=>{"use strict";i.r(o),i.d(o,{AlgoliaIndexConfigurationFormComponent:()=>u,IndexedContentTemplate:()=>n,PathDetailTemplate:()=>r});var e=i(954),t=i(271),a=i(952);const l=JSON.parse('{"l":{"O":{"kQ":{"i":{"DH":"Indexed content","Hb":"Indexed paths","aK":"Indexed properties"}},"de":{"i":{"DH":"Path detail","ET":"Path","lb":"Content types"}},"sY":{"K":"There are no records to display"}}}}'),n=({pathColumns:n,pathRows:r,propertyColumns:i,propertyRows:o})=>((0,a.usePageCommand)("ShowPathDetail"),e.default.createElement(a.RoutingContentPlaceholder,null,e.default.createElement(t.Stack,{spacing:t.Spacing.XXL},e.default.createElement(t.Headline,{size:t.HeadlineSize.M},l.l.O.kQ.i.DH),e.default.createElement(t.Box,null,e.default.createElement(t.Headline,{size:t.HeadlineSize.S},l.l.O.kQ.i.Hb)),e.default.createElement(t.Box,null,e.default.createElement(t.Headline,{size:t.HeadlineSize.S},l.l.O.kQ.i.aK),e.default.createElement(t.Table,{columns:i,rows:o}))))),r=({aliasPath:n,columns:r})=>{const i=e.default.createRef(),[o,u]=(0,e.useState)({rows:void 0,totalCount:0}),[s,c]=(0,e.useState)({currentPage:1,pageSize:5}),d=o.totalCount%s.pageSize>0?Math.trunc(o.totalCount/s.pageSize)+1:o.totalCount/s.pageSize;return(0,a.usePageCommand)("LoadData",{executeOnMount:!0,after:e=>{void 0!==e&&u(e)},data:s},[s]),e.default.createElement(t.Stack,{spacing:t.Spacing.XL},e.default.createElement(t.Headline,{size:t.HeadlineSize.L},l.l.O.de.i.DH),e.default.createElement(t.Box,null,e.default.createElement(t.Headline,{size:t.HeadlineSize.S},l.l.O.de.i.ET),e.default.createElement("span",null,n)),e.default.createElement(t.Box,null,e.default.createElement(t.Headline,{size:t.HeadlineSize.S},l.l.O.de.i.lb),o.totalCount>0?e.default.createElement(t.Table,{isHeaderVisible:!1,ref:i,columns:r.filter((e=>e.visible)),rows:(e=>{if(void 0===e)return[];const t=e=>{const t=[];return e.cells.forEach(((e,a)=>{r[a].visible&&t.push(e)})),t};return e.map((e=>({identifier:e.identifier,disabled:e.disabled,cells:t(e)})))})(o.rows)}):e.default.createElement("p",null,l.l.O.sY.K)),o.totalCount>s.pageSize&&e.default.createElement(t.Box,null,e.default.createElement(t.Pagination,{selectedPage:s.currentPage,totalPages:d,onPageChange:e=>{c((t=>({...t,currentPage:e}))),i.current?.scrollIntoView()}})))},u=a=>{const[l,n]=(0,e.useState)([]),[r,i]=(0,e.useState)(!1),[o,u]=(0,e.useState)(""),[s,c]=(0,e.useState)(""),[d,p]=(0,e.useState)(""),[m,f]=(0,e.useState)(!0),h=e=>{if(void 0===e)return[];const l=e=>{const l=e.aliasPath?.toString()??"";return null===e.aliasPath?[]:[{type:t.CellType.String,value:l},{actions:[{label:"delete",icon:"xp-bin",disabled:!1,destructive:!0}],type:t.CellType.Action,onInvokeAction:async()=>{await Promise.resolve((()=>{a.value=a.value.filter((e=>e.aliasPath!==l)),null!=a.onChange&&a.onChange(a.value),n(h(a.value)),i(!1),u(""),p(""),c(""),f(!0)}))}}]};return e.map((e=>({identifier:e.aliasPath,cells:l(e),disabled:!1})))};return(0,e.useEffect)((()=>{null!==a.value&&void 0!==a.value||(a.value=[]),null!=a.onChange&&a.onChange(a.value),n((e=>h(a.value)))}),[a?.value]),e.default.createElement(t.Stack,null,e.default.createElement(t.Table,{columns:(()=>{const e=[],a={name:"Path",visible:!0,contentType:t.ColumnContentType.Text,caption:"",minWidth:0,maxWidth:1e3,sortable:!0,searchable:!0},l={name:"Actions",visible:!0,contentType:t.ColumnContentType.Action,caption:"",minWidth:0,maxWidth:1e3,sortable:!1,searchable:!1};return e.push(a),e.push(l),e})(),rows:l,onRowClick:e=>{let t=-1;for(let a=0;a<l.length;a++)l[a].identifier===e&&(t=a);const n=l[t];c(n.cells[0].value),p(r?"":n.cells[0].value);const o=a.value.find((t=>t.aliasPath===e))?.contentTypes;let s="";o?.forEach((e=>{s+=e+"\n"})),u(s),i(!r),f(!m)}}),r&&e.default.createElement("div",null,e.default.createElement("br",null),e.default.createElement(t.Input,{label:"Included Path",value:s,onChange:e=>{c(e.target.value)}}),e.default.createElement("br",null),e.default.createElement("div",{className:"label-wrapper___AcszK"},e.default.createElement("label",{className:"label___WET63"},"Available content types:")),e.default.createElement("ul",null,a.possibleItems.map((t=>e.default.createElement("label",{key:t,className:"label___WET63"},e.default.createElement("li",{key:t},e.default.createElement("span",null,t)))))),e.default.createElement("br",null),e.default.createElement(t.TextArea,{label:"Included ContentType Items",value:o,onChange:e=>{u(e.target.value)}}),e.default.createElement("br",null),e.default.createElement("div",{className:"label-wrapper___AcszK"},e.default.createElement("label",{className:"label___WET63"},e.default.createElement("span",null,"Separate each content type with a new line"))),e.default.createElement("br",null),e.default.createElement(t.Button,{type:t.ButtonType.Button,label:"Save Path",onClick:()=>{const e=o.split("\n").filter((e=>""!==e&&""!==e&&null!=e));if(""===d)if(l.some((e=>e.identifier===s)))alert("This path already exists!");else if(""===s)alert("Invalid path");else{const t={aliasPath:s,identifier:null,contentTypes:e};a.value.push(t),n(h(a.value))}else{const t=l.findIndex((e=>e.identifier===d));-1===t&&alert("Invalid edit");const r=l,i=l[t],o=l[t].cells[0];o.value=s;const u=a.value.findIndex((e=>e.aliasPath===d)),c={aliasPath:s,identifier:a.value[u].identifier,contentTypes:e};a.value[u]=c,i.cells[0]=o,i.identifier=s,r[t]=i,n(r)}p(""),i(!1),f(!0)}})),e.default.createElement("br",null),m&&e.default.createElement(t.Button,{type:t.ButtonType.Button,label:"Add new path",onClick:()=>{i(!0),u(""),c(""),p(""),f(!1)}}))}})(),o})())}}}));